<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Teske Realty Admin</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f4f4;
    }
    header {
      background: #222;
      color: white;
      padding: 10px 20px;
      text-align: center;
    }
    nav {
      background: #333;
      display: flex;
      padding: 10px;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin-right: 15px;
      cursor: pointer;
    }
    nav a.active {
      font-weight: bold;
      text-decoration: underline;
    }
    .container {
      padding: 20px;
    }
    .hidden { display: none; }
    .card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 5px #aaa;
      margin-bottom: 20px;
    }
    input, select, button, textarea {
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background: black;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background: #444;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: left;
    }
    th { background: #eee; }
    .error { color: red; }
  </style>
</head>
<body>
  <div id="login-screen" class="container">
    <div class="card">
      <h2>Admin Login</h2>
      <p id="error" class="error"></p>
      <input type="email" id="email" placeholder="Email" required>
      <input type="password" id="password" placeholder="Password" required>
      <button onclick="checkLogin()">Login</button>
    </div>
  </div>

  <div id="main-app" class="hidden">
    <header>
      <h1>Teske Realty Admin Panel</h1>
    </header>
    <nav>
      <a onclick="showTab('dashboard')" id="tab-dashboard" class="active">Dashboard</a>
      <a onclick="showTab('repair')">Repair Requests</a>
      <a onclick="showTab('payments')">Rental Payments</a>
      <a onclick="showTab('tenants')">Tenants</a>
      <a onclick="showTab('properties')">Properties</a>
      <a onclick="showTab('contracts')">Contracts</a>
    </nav>
    <div class="container">
      
      <!-- Dashboard -->
      <div id="dashboard" class="tab card">
        <h2>Dashboard Snapshot</h2>
        <p><b>Total Repair Requests:</b> <span id="count-requests">0</span></p>
        <p><b>Last Rental Payment:</b> <span id="last-payment">None</span></p>
        <p><b>Properties:</b> <span id="count-properties">0</span></p>
        <p><b>Tenants:</b> <span id="count-tenants">0</span> (<span id="tenant-names">None</span>)</p>
        <p><b>Active Contracts:</b> <span id="count-contracts">0</span></p>
      </div>

      <!-- Repair Requests -->
      <div id="repair" class="tab card hidden">
        <h2>Repair Requests</h2>
        <form onsubmit="addRepair(event)">
          <input type="text" id="repair-details" placeholder="Repair Details" required>
          <input type="text" id="repair-date" placeholder="Date/Time" required>
          <select id="repair-status">
            <option>Not Started</option>
            <option>In Progress</option>
            <option>Complete</option>
          </select>
          <button type="submit">Save Repair Request</button>
        </form>
        <table id="repair-table">
          <thead>
            <tr>
              <th>Details</th>
              <th>Date/Time</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <!-- Rental Payments -->
      <div id="payments" class="tab card hidden">
        <h2>Rental Payment History</h2>
        <p>Weâ€™ll add inputs here after Repair Requests are done.</p>
      </div>

      <!-- Tenants -->
      <div id="tenants" class="tab card hidden">
        <h2>Tenants</h2>
        <p>Manage tenant info here.</p>
      </div>

      <!-- Properties -->
      <div id="properties" class="tab card hidden">
        <h2>Properties</h2>
        <p>Manage properties here.</p>
      </div>

      <!-- Contracts -->
      <div id="contracts" class="tab card hidden">
        <h2>Contracts</h2>
        <p>Manage contracts here.</p>
      </div>
    </div>
  </div>

  <script>
    // Login
    function checkLogin() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      if (email === "teskerealtygroup@gmail.com" && password === "admin") {
        document.getElementById("login-screen").classList.add("hidden");
        document.getElementById("main-app").classList.remove("hidden");
        showTab("dashboard");
      } else {
        document.getElementById("error").textContent = "Invalid credentials!";
      }
    }

    // Tabs
    function showTab(tabId) {
      document.querySelectorAll(".tab").forEach(tab => tab.classList.add("hidden"));
      document.getElementById(tabId).classList.remove("hidden");
      document.querySelectorAll("nav a").forEach(a => a.classList.remove("active"));
      document.querySelector(`#tab-${tabId}`)?.classList.add("active");
    }

    // Repair Requests data
    const repairRequests = [];

    function addRepair(event) {
      event.preventDefault();
      const details = document.getElementById("repair-details").value;
      const date = document.getElementById("repair-date").value;
      const status = document.getElementById("repair-status").value;

      repairRequests.push({ details, date, status });
      updateRepairTable();
      updateDashboard();

      // Clear form
      document.getElementById("repair-details").value = "";
      document.getElementById("repair-date").value = "";
      document.getElementById("repair-status").value = "Not Started";
    }

    function updateRepairTable() {
      const tbody = document.getElementById("repair-table").querySelector("tbody");
      tbody.innerHTML = "";
      repairRequests.forEach(req => {
        const row = `<tr>
          <td>${req.details}</td>
          <td>${req.date}</td>
          <td>${req.status}</td>
        </tr>`;
        tbody.innerHTML += row;
      });
    }

    // Dashboard sync
    function updateDashboard() {
      document.getElementById("count-requests").textContent = repairRequests.length;
    }
  </script>
</body>
</html>
