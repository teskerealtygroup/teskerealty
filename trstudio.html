<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RedFox Property Manager</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #eee;
    }
    header {
      background-color: #222;
      color: #fff;
      padding: 15px;
      display: flex;
      align-items: center;
    }
    header img {
      height: 40px;
      margin-right: 10px;
    }
    .sidebar {
      height: 100vh;
      width: 220px;
      position: fixed;
      top: 0;
      left: 0;
      background-color: #1a1a1a;
      padding-top: 60px;
    }
    .sidebar a {
      display: block;
      padding: 12px;
      color: #ddd;
      text-decoration: none;
      transition: background 0.3s;
    }
    .sidebar a:hover, .sidebar a.active {
      background-color: #e63946;
      color: #fff;
    }
    .content {
      margin-left: 220px;
      padding: 20px;
    }
    h2 {
      color: #e63946;
    }
    .form-section {
      margin-bottom: 20px;
      background: #222;
      padding: 15px;
      border-radius: 8px;
    }
    label {
      display: block;
      margin: 8px 0 4px;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 12px;
      border: none;
      border-radius: 4px;
    }
    input[type="file"] {
      background: #111;
      color: #ccc;
    }
    button {
      background-color: #e63946;
      color: #fff;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #c72c3b;
    }
    .entry {
      background: #333;
      padding: 12px;
      border-radius: 6px;
      margin-bottom: 10px;
    }
    .entry a {
      color: #4da6ff;
      text-decoration: underline;
      display: block;
    }
    img.preview {
      max-width: 150px;
      display: block;
      margin-top: 8px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <header>
    <img src="redfox (3).png" alt="Logo">
    <h1>RedFox Property Manager</h1>
  </header>

  <div class="sidebar">
    <a href="#" class="tablink active" onclick="openTab(event, 'dashboard')">Dashboard</a>
    <a href="#" class="tablink" onclick="openTab(event, 'repairs')">Repair Requests</a>
    <a href="#" class="tablink" onclick="openTab(event, 'payments')">Rental Payments</a>
    <a href="#" class="tablink" onclick="openTab(event, 'leases')">Lease Agreements</a>
    <a href="#" class="tablink" onclick="openTab(event, 'tenants')">Tenant Info</a>
  </div>

  <div class="content">
    <!-- Dashboard -->
    <div id="dashboard" class="tabcontent" style="display:block">
      <h2>Dashboard</h2>
      <div id="dashboardContent"></div>
    </div>

    <!-- Repairs -->
    <div id="repairs" class="tabcontent" style="display:none">
      <h2>Repair Requests</h2>
      <div class="form-section">
        <label>Details</label>
        <textarea id="repairDetails"></textarea>
        <label>Date/Time</label>
        <input type="datetime-local" id="repairDate">
        <label>Status</label>
        <select id="repairStatus">
          <option>Not Started</option>
          <option>In Progress</option>
          <option>Complete</option>
        </select>
        <label>Attach File (jpg, jpeg, pdf)</label>
        <input type="file" id="repairFile" accept=".jpg,.jpeg,.pdf">
        <button onclick="saveEntry('repairs')">Save</button>
      </div>
      <div id="repairsList"></div>
    </div>

    <!-- Payments -->
    <div id="payments" class="tabcontent" style="display:none">
      <h2>Rental Payment History</h2>
      <div class="form-section">
        <label>Payment Details</label>
        <textarea id="paymentDetails"></textarea>
        <label>Date</label>
        <input type="date" id="paymentDate">
        <label>Attach File (jpg, jpeg, pdf)</label>
        <input type="file" id="paymentFile" accept=".jpg,.jpeg,.pdf">
        <button onclick="saveEntry('payments')">Save</button>
      </div>
      <div id="paymentsList"></div>
    </div>

    <!-- Leases -->
    <div id="leases" class="tabcontent" style="display:none">
      <h2>Lease Agreements</h2>
      <div class="form-section">
        <label>Lease Details</label>
        <textarea id="leaseDetails"></textarea>
        <label>Start Date</label>
        <input type="date" id="leaseStart">
        <label>End Date</label>
        <input type="date" id="leaseEnd">
        <label>Attach File (jpg, jpeg, pdf)</label>
        <input type="file" id="leaseFile" accept=".jpg,.jpeg,.pdf">
        <button onclick="saveEntry('leases')">Save</button>
      </div>
      <div id="leasesList"></div>
    </div>

    <!-- Tenants -->
    <div id="tenants" class="tabcontent" style="display:none">
      <h2>Tenant Info</h2>
      <div class="form-section">
        <label>Tenant Name</label>
        <input type="text" id="tenantName">
        <label>Contact Info</label>
        <textarea id="tenantContact"></textarea>
        <label>Attach File (jpg, jpeg, pdf)</label>
        <input type="file" id="tenantFile" accept=".jpg,.jpeg,.pdf">
        <button onclick="saveEntry('tenants')">Save</button>
      </div>
      <div id="tenantsList"></div>
    </div>
  </div>

  <script>
    function openTab(evt, tabId) {
      document.querySelectorAll('.tabcontent').forEach(c => c.style.display = "none");
      document.querySelectorAll('.tablink').forEach(b => b.classList.remove("active"));
      document.getElementById(tabId).style.display = "block";
      evt.currentTarget.classList.add("active");
      updateDashboard();
    }

    function saveEntry(type) {
      let details, date, status, fileInput;
      let listId = type + "List";
      let entry = document.createElement("div");
      entry.className = "entry";

      if (type === "repairs") {
        details = document.getElementById("repairDetails").value;
        date = document.getElementById("repairDate").value;
        status = document.getElementById("repairStatus").value;
        fileInput = document.getElementById("repairFile");
        entry.innerHTML = `<b>Details:</b> ${details}<br><b>Date:</b> ${date}<br><b>Status:</b> ${status}`;
      }
      else if (type === "payments") {
        details = document.getElementById("paymentDetails").value;
        date = document.getElementById("paymentDate").value;
        fileInput = document.getElementById("paymentFile");
        entry.innerHTML = `<b>Payment:</b> ${details}<br><b>Date:</b> ${date}`;
      }
      else if (type === "leases") {
        details = document.getElementById("leaseDetails").value;
        let start = document.getElementById("leaseStart").value;
        let end = document.getElementById("leaseEnd").value;
        fileInput = document.getElementById("leaseFile");
        entry.innerHTML = `<b>Lease:</b> ${details}<br><b>Start:</b> ${start} <b>End:</b> ${end}`;
      }
      else if (type === "tenants") {
        let name = document.getElementById("tenantName").value;
        let contact = document.getElementById("tenantContact").value;
        fileInput = document.getElementById("tenantFile");
        entry.innerHTML = `<b>Name:</b> ${name}<br><b>Contact:</b> ${contact}`;
      }

      if (fileInput && fileInput.files.length > 0) {
        const file = fileInput.files[0];
        const reader = new FileReader();
        reader.onload = function(e) {
          if (file.type.includes("pdf")) {
            entry.innerHTML += `<br><a href="${e.target.result}" target="_blank">View PDF</a>`;
          } else {
            entry.innerHTML += `<br><img class="preview" src="${e.target.result}" alt="Uploaded">`;
          }
        }
        reader.readAsDataURL(file);
      }

      document.getElementById(listId).appendChild(entry);
      updateDashboard();
    }

    function updateDashboard() {
      const dashboard = document.getElementById("dashboardContent");
      const repairs = document.getElementById("repairsList").children.length;
      const payments = document.getElementById("paymentsList").children.length;
      const leases = document.getElementById("leasesList").children.length;
      const tenants = document.getElementById("tenantsList").children.length;

      dashboard.innerHTML = `
        <div class="entry"><b>Repair Requests:</b> ${repairs}</div>
        <div class="entry"><b>Payments Recorded:</b> ${payments}</div>
        <div class="entry"><b>Leases:</b> ${leases}</div>
        <div class="entry"><b>Tenants:</b> ${tenants}</div>
      `;
    }
  </script>
</body>
</html>
